# Описание проекта

Проект представляет собой веб-приложение, созданное с использованием FastAPI, которое предоставляет REST API для получения случайных вопросов для викторины на английском языке. Приложение также взаимодействует с внешним API для получения вопросов и сохраняет их в базе данных PostgreSQL.
## Задачи:
1. Развертывание опенсорсной СУБД с использованием Docker (docker-compose):

- Для обеспечения изолированной среды был создан Docker-контейнер с опенсорсной СУБД (PostgreSQL).
- Были предоставлены скрипты и конфигурационные файлы для развертывания СУБД с использованием Docker Compose.
- Инструкции были предоставлены для подключения к СУБД, а также обеспечения сохранности данных при рестарте контейнера с использованием Docker volume-ов.
2. Реализация простого веб-сервиса на Python3 (с использованием FastAPI):
- Был создан веб-сервис с использованием FastAPI, предоставляющий REST API функциональность.
- В сервисе реализован эндпоинт, принимающий POST запросы с параметрами, включая количество запрашиваемых вопросов для викторины.
- После получения запроса, веб-сервис запрашивает вопросы из внешнего API (https://jservice.io/api/random?count=1) в соответствии с указанным количеством.
- Полученные вопросы сохраняются в базе данных, и обеспечивается сохранность следующей информации: ID вопроса, текст вопроса, текст ответа, и дата создания вопроса.
- Для обеспечения уникальности вопросов, дополнительные запросы к API выполняются до получения уникального вопроса.
- Ответом на запрос из веб-сервиса возвращается последний сохраненный вопрос для викторины, или пустой объект в случае его отсутствия.
3. Предоставление инструкций и примера запроса:
- В репозитории с заданием предоставлены инструкции по сборке Docker-образа с веб-сервисом из пункта 2, его настройке и запуску.
- Пример запроса к POST API веб-сервиса также предоставлен.
4. Использование технологий и аннотаций типов:
- В рамках выполнения задания были использованы Docker и Docker Compose для контейнеризации и управления СУБД и веб-сервисом.
- Для взаимодействия с базой данных использовалась библиотека SQLAlchemy.
- Аннотации типов были использованы в коде для более чистой и информативной разработки.

Этот проект позволяет создавать, сохранять и предоставлять случайные вопросы для викторины через REST API, а также обеспечивает удобную среду разработки и развертывания с использованием Docker и Docker Compose.

## Установка и Запуск

Прежде чем начать, убедитесь, что у вас установлены Docker и Docker Compose.

1. Клонируйте репозиторий проекта:

```bash
git clone https://github.com/Tap1x1/fastapi-quiz-app.git
cd fastapi-quiz-app
```
2. Соберите и запустите контейнеры с помощью Docker Compose:

```bash
docker-compose build
docker-compose up
```
## Использование API

Проект предоставляет следующие API эндпоинты:
- `POST /get_questions/` - получение случайных вопросов для викторины.

Пример запроса:
```bash
curl -X POST -H "Content-Type: application/json" -d '{"questions_num": 5}' http://localhost:8000/get_questions/
```
## Библиотеки

- [FastApi](https://fastapi.tiangolo.com/)
- [SQLAlchemy](https://www.sqlalchemy.org/)
- [PostgreSQL(psycopg2-binary)](https://www.psycopg.org/docs/)
- [Pydantic](https://docs.pydantic.dev/latest/)

## Лицензия
MIT License